{"version":3,"sources":["Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/ImageGallery/LoadMoreButton/LoadMorebutton.module.css","Utils/Apis.js","Components/SearchBar/SearchBar.js","Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/LoadMoreButton/LoadMoreButton.js","Components/ImageGallery/ImageGallery.js","Components/Modal/Modal.js","App.js","index.js","Components/SearchBar/Searchbar.module.css"],"names":["module","exports","getPictures","pageNumber","query","axios","get","then","resp","data","defaults","baseURL","SearchBar","state","HandleSubmit","event","preventDefault","props","HandleQueryInput","HandleInputChange","target","value","length","setState","this","className","styles","Searchbar","SearchForm","onSubmit","SearchFormButton","type","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","previewURL","tags","HandlePictureModal","largeImageURL","ToggleModal","onClick","src","alt","ImageGalleryItemImage","LoadMoreButton","HandleLoadMoreButton","Button","ImageGallery","pictures","UpdatePictures","a","ToggleLoader","ToggleGalleryState","ToggleFound","fetchPictures","hits","finally","test","SetPageNumber","textContent","prevState","map","item","id","modal","document","querySelector","Modal","handleKeyDown","code","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","bigPicture","App","showModal","loader","galleryPresent","nothingFound","Url","page","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d3d2a9b3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__10Mh4\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2sRx_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__33Ypd\",\"Modal\":\"Modal_Modal__3ihEg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1hnjP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"LoadMorebutton_Button__1eRMO\"};","import axios from 'axios';\n\nconst key = '19970182-43374a871d90ac8a22fd423a0';\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nexport default function getPictures({ pageNumber, query }) {\n  return axios\n    .get(\n      `?q=${query}&page=${pageNumber}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(resp => resp.data);\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Searchbar.module.css';\n\nclass SearchBar extends Component {\n  state = {\n    query: '',\n  };\n  HandleSubmit = event => {\n    event.preventDefault();\n    this.props.HandleQueryInput(this.state.query);\n  };\n\n  HandleInputChange = event => {\n    if (event.target.value.length === 0) {\n      this.setState({ query: ' ' });\n    }\n    this.setState({ query: event.target.value });\n  };\n  render() {\n    const { HandleQueryInput } = this.props;\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.HandleSubmit}>\n          <button className={styles.SearchFormButton} type=\"submit\">\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.HandleInputChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\nSearchBar.propTypes = {\n  HandleQueryInput: PropTypes.func.isRequired,\n};\nexport default SearchBar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({\n  previewURL,\n  tags,\n  HandlePictureModal,\n  largeImageURL,\n  ToggleModal,\n}) => {\n  const openBigPicture = event => {\n    HandlePictureModal(largeImageURL);\n    ToggleModal();\n  };\n\n  return (\n    <li className={styles.ImageGalleryItem}>\n      <img\n        onClick={openBigPicture}\n        src={previewURL}\n        alt={tags}\n        className={styles.ImageGalleryItemImage}\n      />\n    </li>\n  );\n};\nImageGalleryItem.propTypes = {\n  previewURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  HandlePictureModal: PropTypes.func.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  ToggleModal: PropTypes.func.isRequired,\n};\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './LoadMorebutton.module.css';\n\nconst LoadMoreButton = ({ HandleLoadMoreButton }) => {\n  return (\n    <>\n      <button\n        className={styles.Button}\n        onClick={() => HandleLoadMoreButton()}\n        type=\"button\"\n      >\n        Load more\n      </button>\n    </>\n  );\n};\nLoadMoreButton.propTypes = {\n  HandleLoadMoreButton: PropTypes.func.isRequired,\n};\nexport default LoadMoreButton;\n","import React, { Component } from 'react';\nimport fetchPictures from '../../Utils/Apis';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\nimport LoadMoreButton from './LoadMoreButton/LoadMoreButton';\nimport PropTypes from 'prop-types';\n\nclass ImageGallery extends Component {\n  state = {\n    pictures: [],\n  };\n\n  componentDidMount() {\n    this.UpdatePictures();\n  }\n  componentDidUpdate({ query, pageNumber }, prevState) {\n    if (query !== this.props.query) {\n      this.setState({ pictures: [] });\n      this.UpdatePictures();\n    }\n    if (pageNumber !== this.props.pageNumber) {\n      this.UpdatePictures();\n    }\n    if (this.props.query === '') {\n      this.setState({ pictures: [] });\n    }\n  }\n  componentWillUnmount() {\n    this.props.ToggleGalleryState(false);\n  }\n\n  UpdatePictures = async () => {\n    const {\n      query,\n      pageNumber,\n      ToggleLoader,\n      ToggleGalleryState,\n      ToggleFound,\n    } = this.props;\n    ToggleLoader();\n    await fetchPictures({ query, pageNumber })\n      .then(resp =>\n        this.setState(({ pictures }) => ({\n          pictures: [...pictures, ...resp.hits],\n        })),\n      )\n      .finally(() => this.props.ToggleLoader());\n\n    if (this.state.pictures.length > 0) {\n      ToggleGalleryState(true);\n    }\n    ToggleFound();\n  };\n  test = event => {\n    this.setState({ pictures: [] });\n\n    this.props.SetPageNumber(event.target.textContent);\n  };\n  render() {\n    return (\n      <>\n        <ul className={styles.ImageGallery}>\n          {this.state.pictures.map(item => {\n            return (\n              <ImageGalleryItem\n                ToggleModal={this.props.ToggleModal}\n                HandlePictureModal={this.props.HandlePictureModal}\n                key={item.id}\n                {...item}\n              />\n            );\n          })}\n        </ul>\n        {this.state.pictures.length > 0 && (\n          <LoadMoreButton\n            HandleLoadMoreButton={this.props.HandleLoadMoreButton}\n          />\n        )}\n        <button onClick={this.test} type=\"button\">\n          1\n        </button>\n        <button onClick={this.test} type=\"button\">\n          2\n        </button>\n        <button onClick={this.test} type=\"button\">\n          3\n        </button>\n      </>\n    );\n  }\n}\nImageGallery.propTypes = {\n  query: PropTypes.string.isRequired,\n  pageNumber: PropTypes.number.isRequired,\n  ToggleLoader: PropTypes.func.isRequired,\n  ToggleGalleryState: PropTypes.func.isRequired,\n  ToggleFound: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport styles from './Modal.module.css';\nimport PropTypes from 'prop-types';\n\nconst modal = document.querySelector('#modal');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      this.props.ToggleModal();\n    }\n  };\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.ToggleModal();\n    }\n  };\n  render() {\n    const { ToggleModal } = this.props;\n    return createPortal(\n      <div onClick={this.handleBackdropClick} className={styles.Overlay}>\n        <div className={styles.Modal}>\n          <img src={this.props.bigPicture} alt=\"\" />\n        </div>\n      </div>,\n      modal,\n    );\n  }\n}\nModal.propTypes = {\n  ToggleModal: PropTypes.func.isRequired,\n};\nexport default Modal;\n","import GetPage from './Utils/Apis';\nimport React, { Component } from 'react';\nimport SearchBar from './Components/SearchBar/SearchBar';\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\nimport Modal from './Components/Modal/Modal';\nimport Loader from 'react-loader-spinner';\nimport './index.css';\n\nclass App extends Component {\n  state = {\n    query: '',\n    pageNumber: 1,\n    bigPicture: '',\n    showModal: false,\n    loader: false,\n    galleryPresent: false,\n    nothingFound: false,\n  };\n  ToggleModal = () => {\n    this.setState(prevState => {\n      return { showModal: !prevState.showModal };\n    });\n  };\n\n  ToggleFound = () => {\n    this.setState({ nothingFound: true });\n  };\n\n  ToggleGalleryState = state => {\n    this.setState({ galleryPresent: state });\n  };\n  ToggleLoader = () => {\n    this.setState({ loader: !this.state.loader });\n  };\n  HandlePictureModal = Url => {\n    this.setState({ bigPicture: Url });\n  };\n\n  HandleQueryInput = query => {\n    this.setState({ query: query });\n  };\n  SetPageNumber = page => {\n    this.setState({ pageNumber: page });\n  };\n\n  HandleLoadMoreButton = () => {\n    this.setState(prevState => ({\n      pageNumber: prevState.pageNumber + 1,\n    }));\n  };\n\n  render() {\n    return (\n      <div className=\"container\">\n        {this.state.showModal && (\n          <Modal\n            ToggleModal={this.ToggleModal}\n            bigPicture={this.state.bigPicture}\n          />\n        )}\n\n        <SearchBar HandleQueryInput={this.HandleQueryInput} />\n        {this.state.query.length > 0 && (\n          <ImageGallery\n            ToggleFound={this.ToggleFound}\n            ToggleGalleryState={this.ToggleGalleryState}\n            ToggleLoader={this.ToggleLoader}\n            ToggleModal={this.ToggleModal}\n            HandleLoadMoreButton={this.HandleLoadMoreButton}\n            HandlePictureModal={this.HandlePictureModal}\n            SetPageNumber={this.SetPageNumber}\n            {...this.state}\n          />\n        )}\n        {!this.state.galleryPresent &&\n          !this.state.loader &&\n          this.state.nothingFound && <span>Nothing was found</span>}\n        {this.state.loader && (\n          <Loader\n            className=\"Loader\"\n            type=\"TailSpin\"\n            color=\"#00BFFF\"\n            height={150}\n            width={150}\n            timeout={6000} //3 secs\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"Searchbar_SearchForm__UoHRL\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3kjAo\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3_tJT\",\"SearchFormInput\":\"Searchbar_SearchFormInput__31aaZ\",\"Searchbar\":\"Searchbar_Searchbar__2pSmi\"};"],"sourceRoot":""}