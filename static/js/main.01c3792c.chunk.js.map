{"version":3,"sources":["Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/LoadMoreButton/LoadMorebutton.module.css","Utils/Apis.js","Components/SearchBar/SearchBar.js","Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/LoadMoreButton/LoadMoreButton.js","Components/ImageGallery/ImageGallery.js","Components/Modal/Modal.js","App.js","index.js","Components/SearchBar/Searchbar.module.css"],"names":["module","exports","getPictures","pageNumber","query","axios","get","then","resp","data","defaults","baseURL","SearchBar","state","HandleSubmit","event","preventDefault","props","HandleQueryInput","SetPageNumber","HandleInputChange","target","value","length","setState","this","className","styles","Searchbar","SearchForm","onSubmit","SearchFormButton","type","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","previewURL","tags","HandlePictureModal","largeImageURL","ToggleModal","onClick","src","alt","ImageGalleryItemImage","LoadMoreButton","HandleLoadMoreButton","Button","ImageGallery","pictures","totalPages","UpdatePictures","a","ToggleLoader","ToggleGalleryState","ToggleFound","fetchPictures","hits","Math","round","totalHits","finally","test","selected","prevState","window","scrollTo","top","document","documentElement","scrollHeight","behavior","map","item","id","pageCount","previousLabel","nextLabel","breakLabel","breakClassName","marginPagesDisplayed","pageRangeDisplayed","onPageChange","containerClassName","pagination","subContainerClassName","activeClassName","modal","querySelector","Modal","handleKeyDown","code","handleBackdropClick","currentTarget","addEventListener","removeEventListener","createPortal","Overlay","bigPicture","App","showModal","loader","galleryPresent","nothingFound","Url","page","color","height","width","timeout","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.01c3792c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__10Mh4\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2sRx_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1hnjP\",\"pagination\":\"ImageGallery_pagination__1G28h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__33Ypd\",\"Modal\":\"Modal_Modal__3ihEg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"LoadMorebutton_Button__1eRMO\"};","import axios from 'axios';\n\nconst key = '19970182-43374a871d90ac8a22fd423a0';\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nexport default function getPictures({ pageNumber, query }) {\n  return axios\n    .get(\n      `?q=${query}&page=${pageNumber}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(resp => resp.data);\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Searchbar.module.css';\n\nclass SearchBar extends Component {\n  state = {\n    query: '',\n  };\n  HandleSubmit = event => {\n    event.preventDefault();\n    this.props.HandleQueryInput(this.state.query);\n    this.props.SetPageNumber(1);\n  };\n\n  HandleInputChange = event => {\n    if (event.target.value.length === 0) {\n      this.setState({ query: ' ' });\n    }\n    this.setState({ query: event.target.value });\n  };\n  render() {\n    const { HandleQueryInput } = this.props;\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.HandleSubmit}>\n          <button className={styles.SearchFormButton} type=\"submit\">\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.HandleInputChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\nSearchBar.propTypes = {\n  HandleQueryInput: PropTypes.func.isRequired,\n};\nexport default SearchBar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({\n  previewURL,\n  tags,\n  HandlePictureModal,\n  largeImageURL,\n  ToggleModal,\n}) => {\n  const openBigPicture = event => {\n    HandlePictureModal(largeImageURL);\n    ToggleModal();\n  };\n\n  return (\n    <li className={styles.ImageGalleryItem}>\n      <img\n        onClick={openBigPicture}\n        src={previewURL}\n        alt={tags}\n        className={styles.ImageGalleryItemImage}\n      />\n    </li>\n  );\n};\nImageGalleryItem.propTypes = {\n  previewURL: PropTypes.string.isRequired,\n  tags: PropTypes.string.isRequired,\n  HandlePictureModal: PropTypes.func.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  ToggleModal: PropTypes.func.isRequired,\n};\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './LoadMorebutton.module.css';\n\nconst LoadMoreButton = ({ HandleLoadMoreButton }) => {\n  return (\n    <>\n      <button\n        className={styles.Button}\n        onClick={() => HandleLoadMoreButton()}\n        type=\"button\"\n      >\n        Load more\n      </button>\n    </>\n  );\n};\nLoadMoreButton.propTypes = {\n  HandleLoadMoreButton: PropTypes.func.isRequired,\n};\nexport default LoadMoreButton;\n","import React, { Component } from 'react';\nimport fetchPictures from '../../Utils/Apis';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\nimport LoadMoreButton from './LoadMoreButton/LoadMoreButton';\nimport PropTypes from 'prop-types';\nimport ReactPaginate from 'react-paginate';\nclass ImageGallery extends Component {\n  state = {\n    pictures: [],\n    totalPages: 0,\n  };\n\n  componentDidMount() {\n    this.UpdatePictures();\n  }\n  componentDidUpdate({ query, pageNumber }, prevState) {\n    if (query !== this.props.query) {\n      this.setState({ pictures: [] });\n      this.UpdatePictures();\n    }\n    if (pageNumber !== this.props.pageNumber) {\n      this.UpdatePictures();\n    }\n    if (this.props.query === '') {\n      this.setState({ pictures: [] });\n    }\n\n    if (prevState !== this.state) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n  componentWillUnmount() {\n    this.props.ToggleGalleryState(false);\n  }\n\n  UpdatePictures = async () => {\n    const {\n      query,\n      pageNumber,\n      ToggleLoader,\n      ToggleGalleryState,\n      ToggleFound,\n    } = this.props;\n    ToggleLoader();\n    await fetchPictures({ query, pageNumber })\n      .then(resp =>\n        this.setState(({ pictures }) => ({\n          pictures: [...pictures, ...resp.hits],\n          totalPages: Math.round(resp.totalHits / 12),\n        })),\n      )\n      .finally(() => this.props.ToggleLoader());\n\n    if (this.state.pictures.length > 0) {\n      ToggleGalleryState(true);\n    }\n    ToggleFound();\n  };\n\n  test = data => {\n    this.setState({ pictures: [] });\n    this.props.SetPageNumber(data.selected + 1);\n  };\n  render() {\n    return (\n      <>\n        <ul className={styles.ImageGallery}>\n          {this.state.pictures.map(item => {\n            return (\n              <ImageGalleryItem\n                ToggleModal={this.props.ToggleModal}\n                HandlePictureModal={this.props.HandlePictureModal}\n                key={item.id}\n                {...item}\n              />\n            );\n          })}\n        </ul>\n        {this.state.pictures.length > 0 && (\n          <LoadMoreButton\n            HandleLoadMoreButton={this.props.HandleLoadMoreButton}\n          />\n        )}\n        <div>\n          <ReactPaginate\n            pageCount={this.state.totalPages}\n            previousLabel={'previous'}\n            nextLabel={'next'}\n            breakLabel={'...'}\n            breakClassName={'break-me'}\n            marginPagesDisplayed={2}\n            pageRangeDisplayed={5}\n            onPageChange={this.test}\n            containerClassName={styles.pagination}\n            subContainerClassName={'pages pagination'}\n            activeClassName={'active'}\n          />\n        </div>\n      </>\n    );\n  }\n}\nImageGallery.propTypes = {\n  query: PropTypes.string.isRequired,\n  pageNumber: PropTypes.number.isRequired,\n  ToggleLoader: PropTypes.func.isRequired,\n  ToggleGalleryState: PropTypes.func.isRequired,\n  ToggleFound: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport styles from './Modal.module.css';\nimport PropTypes from 'prop-types';\n\nconst modal = document.querySelector('#modal');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      this.props.ToggleModal();\n    }\n  };\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.ToggleModal();\n    }\n  };\n  render() {\n    const { ToggleModal } = this.props;\n    return createPortal(\n      <div onClick={this.handleBackdropClick} className={styles.Overlay}>\n        <div className={styles.Modal}>\n          <img src={this.props.bigPicture} alt=\"\" />\n        </div>\n      </div>,\n      modal,\n    );\n  }\n}\nModal.propTypes = {\n  ToggleModal: PropTypes.func.isRequired,\n};\nexport default Modal;\n","import GetPage from './Utils/Apis';\nimport React, { Component } from 'react';\nimport SearchBar from './Components/SearchBar/SearchBar';\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\nimport Modal from './Components/Modal/Modal';\nimport Loader from 'react-loader-spinner';\nimport './index.css';\n\nclass App extends Component {\n  state = {\n    query: '',\n    pageNumber: 1,\n    bigPicture: '',\n    showModal: false,\n    loader: false,\n    galleryPresent: false,\n    nothingFound: false,\n  };\n\n  ToggleModal = () => {\n    this.setState(prevState => {\n      return { showModal: !prevState.showModal };\n    });\n  };\n\n  ToggleFound = () => {\n    this.setState({ nothingFound: true });\n  };\n\n  ToggleGalleryState = state => {\n    this.setState({ galleryPresent: state });\n  };\n  ToggleLoader = () => {\n    this.setState({ loader: !this.state.loader });\n  };\n  HandlePictureModal = Url => {\n    this.setState({ bigPicture: Url });\n  };\n\n  HandleQueryInput = query => {\n    this.setState({ query: query });\n  };\n  SetPageNumber = page => {\n    this.setState({ pageNumber: page });\n  };\n\n  HandleLoadMoreButton = () => {\n    this.setState(prevState => ({\n      pageNumber: prevState.pageNumber + 1,\n    }));\n  };\n\n  render() {\n    return (\n      <div className=\"container\">\n        {this.state.showModal && (\n          <Modal\n            ToggleModal={this.ToggleModal}\n            bigPicture={this.state.bigPicture}\n          />\n        )}\n\n        <SearchBar\n          SetPageNumber={this.SetPageNumber}\n          HandleQueryInput={this.HandleQueryInput}\n        />\n        {this.state.query.length > 0 && (\n          <ImageGallery\n            ToggleFound={this.ToggleFound}\n            ToggleGalleryState={this.ToggleGalleryState}\n            ToggleLoader={this.ToggleLoader}\n            ToggleModal={this.ToggleModal}\n            HandleLoadMoreButton={this.HandleLoadMoreButton}\n            HandlePictureModal={this.HandlePictureModal}\n            SetPageNumber={this.SetPageNumber}\n            {...this.state}\n          />\n        )}\n        {!this.state.galleryPresent &&\n          !this.state.loader &&\n          this.state.nothingFound && <span>Nothing was found</span>}\n        {this.state.loader && (\n          <Loader\n            className=\"Loader\"\n            type=\"TailSpin\"\n            color=\"#00BFFF\"\n            height={150}\n            width={150}\n            timeout={6000} //3 secs\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"Searchbar_SearchForm__UoHRL\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3kjAo\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3_tJT\",\"SearchFormInput\":\"Searchbar_SearchFormInput__31aaZ\",\"Searchbar\":\"Searchbar_Searchbar__2pSmi\"};"],"sourceRoot":""}